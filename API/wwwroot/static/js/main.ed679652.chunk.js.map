{"version":3,"sources":["components/Logout.js","components/Header.js","context/AppReducer.js","context/GlobalState.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/TransactionForm.js","components/Login.js","components/Register.js","App.js","components/UseToken.js","index.js"],"names":["Logout","className","onClick","localStorage","removeItem","window","location","reload","Header","username","state","action","type","loading","transactions","payload","filter","transaction","id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","useState","setLoading","a","axios","get","res","data","response","delete","config","Headers","post","Provider","value","getTransactions","deleteTransaction","addTransaction","Balance","total","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","expense","Transaction","sign","text","Math","abs","TransactionList","user","JSON","parse","getItem","useEffect","animation","variant","TransactionForm","setText","setAmount","onSubmit","e","preventDefault","newTransaction","userId","htmlFor","required","onChange","target","placeholder","Login","setToken","setUserName","password","setPassword","setError","history","useHistory","loginUser","credentials","fetch","method","headers","body","stringify","then","console","log","status","json","handleSubmit","token","push","disabled","to","Register","confirmPassword","setConfirmPassword","registerUser","FormOk","length","App","tokenString","userToken","getToken","undefined","setItem","useToken","path","exact","render","props","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed679652.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nfunction Logout() {\r\n    \r\n    function logOff() {\r\n        localStorage.removeItem('token');\r\n        window.location.reload();\r\n    }\r\n    return (\r\n        <>\r\n            <button className=\"logoutButton\" onClick={logOff}>Wyloguj się</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Logout\r\n","import React from 'react'\r\nimport Logout from './Logout';\r\n\r\nexport const Header = ({username}) => {\r\n    return (\r\n        <>\r\n        <h2>\r\n            Witaj {username}!\r\n        </h2>\r\n        <h5>\r\n            Nie jesteś {username}? <Logout />\r\n        </h5>\r\n        </>\r\n    )\r\n}\r\n","export default (state, action) => {\r\n    switch(action.type) {\r\n        case 'GET_TRANSACTIONS':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: action.payload\r\n            }\r\n        case 'DELETE_TRANSACTION':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: state.transactions.filter(transaction => transaction.id !==\r\n                    action.payload)\r\n            }\r\n        case 'ADD_TRANSACTION':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: [...state.transactions, action.payload]\r\n            }\r\n            case 'TRANSACTION_ERROR':\r\n                return {\r\n                    ...state,\r\n                    error: action.payload\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React, { createContext, useReducer, useState } from 'react';\r\nimport AppReducer from './AppReducer';\r\nimport axios from 'axios';\r\n\r\n// initial state\r\nconst initialState = {\r\n    transactions: [],\r\n    error: null,\r\n}\r\n\r\n// Create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// Provider Component\r\nexport const GlobalProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState);\r\n    const [loading, setLoading] = useState(null);\r\n\r\n    // Actions\r\n    async function getTransactions(username) {\r\n        try {\r\n            const res = await axios.get(`/api/Expense/${username}`);\r\n            setLoading(true);\r\n            dispatch({\r\n                type: 'GET_TRANSACTIONS',\r\n                payload: res.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'TRANSACTION_ERROR',\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n    }\r\n\r\n   async function deleteTransaction(id) {\r\n        try {\r\n            await axios.delete(`api/Expense/${id}`);\r\n\r\n            dispatch({\r\n                type: 'DELETE_TRANSACTION',\r\n                payload: id\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'TRANSACTION_ERROR',\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    async function addTransaction(transaction) {\r\n        const config = {\r\n            Headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        try {\r\n            const res = await axios.post('/api/Expense', transaction, config)\r\n            dispatch({\r\n                type: 'ADD_TRANSACTION',\r\n                payload: res.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'TRANSACTION_ERROR',\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    return (<GlobalContext.Provider value={{\r\n        transactions: state.transactions,\r\n        error: state.error,\r\n        loading,\r\n        getTransactions,\r\n        deleteTransaction,\r\n        addTransaction\r\n    }}>\r\n        {children}\r\n    </GlobalContext.Provider>);\r\n}","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../context/GlobalState';\r\n\r\nexport const Balance = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n\r\n    const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n\r\n    return (\r\n        <>\r\n          <h4>Twoje Saldo:</h4>\r\n          <h1>{total} PLN</h1>  \r\n        </>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\nexport const IncomeExpenses = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n\r\n    const income = amounts\r\n        .filter(item => item > 0)\r\n        .reduce((acc, item) => (acc += item), 0)\r\n        .toFixed(2);\r\n\r\n    const expense = (\r\n        amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) *\r\n        -1\r\n    ).toFixed(2);\r\n\r\n    return (\r\n        <div className=\"inc-exp-container\">\r\n        <div>\r\n          <h4>Przychody</h4>\r\n          <p id=\"money-plus\" className=\"money plus\">{income} PLN</p>\r\n        </div>\r\n        <div>\r\n          <h4>Wydatki</h4>\r\n          <p id=\"money-minus\" className=\"money minus\">{expense} PLN</p>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React, {useContext} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState'\r\n\r\nexport const Transaction = ({transaction}) => {\r\nconst { deleteTransaction } = useContext(GlobalContext);\r\n\r\n        const sign = transaction.amount < 0 ? '-' : '+'; \r\n\r\n        \r\n        return (\r\n            <li className={transaction.amount < 0 ? 'minus' : 'plus'}>\r\n                {transaction.text} <span>{sign}{Math.abs(transaction.amount)} PLN</span><button onClick={() => deleteTransaction(transaction.id)}\r\n                className=\"delete-btn\">x</button>\r\n            </li>\r\n         )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport { Transaction } from './Transaction';\r\nimport * as ReactBootStrap from 'react-bootstrap';\r\n\r\nexport const TransactionList = () => {\r\n    const { transactions, getTransactions, loading } = useContext(GlobalContext);\r\n\r\n    const user = JSON.parse(localStorage.getItem('token'));\r\n    \r\n\r\n    useEffect(() => {\r\n        getTransactions(user.username);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n         <h3>Historia</h3>\r\n         {loading ? \r\n         <ul className=\"list\">\r\n             {transactions.map(transaction => (<Transaction key={transaction.id} transaction={transaction} /> ))}\r\n         </ul>  :\r\n         <ReactBootStrap.Spinner animation=\"grow\" variant=\"info\" />\r\n         }\r\n        </>\r\n    )\r\n}\r\n","import React, {useState, useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\n\r\nexport const TransactionForm = () => {\r\n    const [text, setText] = useState('');\r\n    const [amount, setAmount] = useState(0);\r\n\r\n    const { addTransaction } = useContext(GlobalContext);\r\n\r\n    const user = JSON.parse(localStorage.getItem('token'));\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const newTransaction = {\r\n            userId: +user.id,\r\n            text,\r\n            amount: +amount\r\n        }\r\n\r\n        addTransaction(newTransaction);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h3>Dodaj nową transakcję</h3>\r\n                <form onSubmit={onSubmit}>\r\n                    <div className=\"form-control\">\r\n                    <label className=\"transactionLabel\" htmlFor=\"text\">Nazwa</label>\r\n                    <input required type=\"text\" value={text} onChange={(e) => setText(e.target.value)} placeholder=\"Wprowadź nazwę\" />\r\n                    </div>\r\n                    <div className=\"form-control\">\r\n                    <label className=\"transactionLabel\" htmlFor=\"amount\"\r\n                        >Kwota <br />\r\n                        (Jeśli chcesz dodać wydatek, przed kwotą wprowadź minusa \" - \")</label\r\n                    >\r\n                    <input required type=\"number\" value={amount} onChange={(e) => setAmount(e.target.value)} placeholder=\"Wprowadź kwotę\" />\r\n                    </div>\r\n                    <button className=\"btn\">Dodaj transakcję</button>\r\n                </form>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ReactBootStrap from 'react-bootstrap';\r\n\r\n\r\n\r\n\r\nexport default function Login({ setToken }) {\r\n    const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n  \r\n\r\n  async function loginUser(credentials) {\r\n    \r\n    return fetch('/api/Account/login', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n  \r\n    .then(data => {\r\n      console.log(data);\r\n      if (data.status !== 200) { setError(\"nieprawidłowe dane logowania\");}\r\n      else {return data.json()}\r\n    })\r\n    \r\n }\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const token = await loginUser({\r\n      username,\r\n      password\r\n    });\r\n    \r\n      setToken(token);\r\n      setLoading(false);\r\n      history.push(\"/\")\r\n  }\r\n\r\n  return(\r\n      <div>\r\n        <h1>Zaloguj się</h1>\r\n        <form onSubmit={handleSubmit} >\r\n            <div className=\"form-control\">    \r\n                <label htmlFor=\"login\">\r\n                    <p>Nazwa użytkownika</p>\r\n                </label>\r\n                <input type=\"text\"  onChange={e => setUserName(e.target.value)}/>\r\n            </div>\r\n            <div className=\"form-control\">\r\n                <label htmlFor=\"password\">\r\n                    <p>Hasło</p>\r\n                </label>\r\n                <input type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n            </div>\r\n            <div>\r\n                <button disabled={loading} className=\"btn\" type=\"submit\">Zaloguj się</button>\r\n                \r\n            </div>\r\n        </form>\r\n        <h5>Nie masz konta? <Link to=\"/register\">Zarejestuj się</Link> </h5>\r\n        {error && <p className=\"errorp\">{error}</p>} <br />\r\n        {loading && <div className=\"center\" ><ReactBootStrap.Spinner animation=\"grow\" variant=\"info\" /></div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n}","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom';\r\nimport * as ReactBootStrap from 'react-bootstrap';\r\n\r\nexport const Register = ({setToken}) => {\r\n    const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [confirmPassword, setConfirmPassword] = useState();\r\n  const [error, setError] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const history = useHistory();\r\n\r\n  async function registerUser(credentials) {\r\n  return fetch('/api/Account/register', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n    .then(data => {\r\n      if (data.status !== 200) { setError(\"Coś poszło nie tak\");}\r\n      if(data.status === 400) {setError(\"Nazwa uzytkownika jest zajęta\")}\r\n      else {return data.json()}\r\n    })\r\n }\r\n\r\n  const handleSubmit = async e => {\r\n    var FormOk = true;\r\n\r\n    e.preventDefault();\r\n    setLoading(true)\r\n    if (username.length < 4 || username.length > 20) {\r\n        setError(\"Nazwa powinna mieć od 4 do 20 znaków\")\r\n        FormOk = false;\r\n\r\n    }\r\n    if (password.length < 4 || password.length > 20) {\r\n        setError(\"Hasło powinno mieć od 4 do 20 znaków\")\r\n        FormOk = false;\r\n\r\n    }\r\n    if (password !== confirmPassword) {\r\n        setError(\"Hasła muszą być takie same\")\r\n        FormOk = false;\r\n\r\n    }\r\n    if(FormOk === true)\r\n    {\r\n        const token = await registerUser({\r\n            username,\r\n            password\r\n          });\r\n          setLoading(false)\r\n            setToken(token);\r\n    }\r\n    \r\n  }\r\n\r\n    return (\r\n        <>\r\n        <div>\r\n        <h1>Zarejestruj się</h1>\r\n        <form onSubmit={handleSubmit} >\r\n            <div className=\"form-control\">    \r\n                <label htmlFor=\"login\">\r\n                    <p>Nazwa użytkownika</p>\r\n                </label>\r\n                <input type=\"text\" required onChange={e => setUserName(e.target.value)}/>\r\n            </div>\r\n            <div className=\"form-control\">\r\n                <label htmlFor=\"password\">\r\n                    <p>Hasło</p>\r\n                </label>\r\n                <input type=\"password\" required onChange={e => setPassword(e.target.value)} />\r\n            </div>\r\n            <div className=\"form-control\">\r\n                <label htmlFor=\"password\">\r\n                    <p>Potwierdź hasło</p>\r\n                </label>\r\n                <input type=\"password\" required onChange={e => setConfirmPassword(e.target.value)} />\r\n            </div>\r\n            <div>\r\n                <button className=\"btn\" type=\"submit\">Zarejestruj się</button>\r\n            </div>\r\n        </form>\r\n        \r\n        <h5>Masz już konto? <Link to=\"/\">Zaloguj się</Link> </h5>\r\n    </div>\r\n    {error && <p className=\"errorp\">{error}</p>}\r\n    {loading && <div className=\"center\" ><ReactBootStrap.Spinner animation=\"grow\" variant=\"info\" /></div>}\r\n    </>\r\n    )\r\n}\r\n","import './App.css';\r\nimport React, { useState } from 'react';\r\nimport { Header } from './components/Header';\r\nimport { Balance } from './components/Balance';\r\nimport { IncomeExpenses } from'./components/IncomeExpenses';\r\nimport { TransactionList } from './components/TransactionList';\r\nimport { TransactionForm } from './components/TransactionForm';\r\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\r\nimport  Login  from './components/Login';\r\nimport  {Register}  from './components/Register';\r\nimport useToken from './components/UseToken';\r\n\r\nimport { GlobalProvider } from './context/GlobalState';\r\n\r\n\r\n\r\nfunction App() {\r\n  const { token, setToken } = useToken();\r\n  const user = JSON.parse(localStorage.getItem('token'));\r\n\r\n  if(!token) {\r\n    return <>\r\n    \r\n    <Router>\r\n      <h1>Expense Tracker </h1>\r\n      <br/><br/>\r\n      <Route path=\"/register\">\r\n        <Register  setToken={setToken} />\r\n      </Route >\r\n      <Route path=\"/\" exact render={(props) => (\r\n        <Login  setToken={setToken} />\r\n      )}/>\r\n    </Router>\r\n    </>\r\n\r\n  }\r\n \r\n  return (\r\n    <GlobalProvider>\r\n      \r\n      <Header username={user.username}/>\r\n      <div className=\"container\">\r\n        <Balance />\r\n        <IncomeExpenses />\r\n        <TransactionList />\r\n        <TransactionForm />\r\n      </div>\r\n    </GlobalProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        const tokenString = localStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken?.token\r\n      };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n\r\n  const saveToken = userToken => {\r\n    if(userToken !== undefined)\r\n    {\r\n      localStorage.setItem('token', JSON.stringify(userToken));\r\n      setToken(userToken.token);\r\n    }\r\n\r\n    \r\n  };\r\n  return {\r\n    setToken: saveToken,\r\n    token\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}