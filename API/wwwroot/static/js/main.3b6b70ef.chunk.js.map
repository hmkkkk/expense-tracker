{"version":3,"sources":["components/Logout.js","components/Header.js","context/AppReducer.js","context/GlobalState.js","components/Balance.js","components/IncomeExpenses.js","components/Transaction.js","components/TransactionList.js","components/TransactionForm.js","components/Login.js","components/Register.js","App.js","components/UseToken.js","index.js"],"names":["Logout","className","onClick","localStorage","removeItem","window","location","reload","Header","username","state","action","type","loading","transactions","payload","filter","transaction","id","error","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","AppReducer","dispatch","a","axios","get","res","data","response","delete","config","Headers","post","Provider","value","getTransactions","deleteTransaction","addTransaction","Balance","total","useContext","map","amount","reduce","acc","item","toFixed","IncomeExpenses","amounts","income","expense","Transaction","sign","text","Math","abs","TransactionList","user","JSON","parse","getItem","useEffect","TransactionForm","useState","setText","setAmount","onSubmit","e","preventDefault","newTransaction","userId","htmlFor","onChange","target","placeholder","Login","setToken","setUserName","password","setPassword","setError","history","useHistory","loginUser","credentials","fetch","method","headers","body","stringify","then","console","log","status","json","handleSubmit","token","push","to","Register","confirmPassword","setConfirmPassword","registerUser","FormOk","length","required","App","tokenString","userToken","getToken","undefined","setItem","useToken","path","exact","render","props","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3b6b70ef.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nfunction Logout() {\r\n    \r\n    function logOff() {\r\n        localStorage.removeItem('token');\r\n        window.location.reload();\r\n    }\r\n    return (\r\n        <>\r\n            <button className=\"logoutButton\" onClick={logOff}>Wyloguj się</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Logout\r\n","import React from 'react'\r\nimport Logout from './Logout';\r\n\r\nexport const Header = ({username}) => {\r\n    return (\r\n        <>\r\n        <h2>\r\n            Witaj {username}!\r\n        </h2>\r\n        <h5>\r\n            Nie jesteś {username}? <Logout />\r\n        </h5>\r\n        </>\r\n    )\r\n}\r\n","export default (state, action) => {\r\n    switch(action.type) {\r\n        case 'GET_TRANSACTIONS':\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                transactions: action.payload\r\n            }\r\n        case 'DELETE_TRANSACTION':\r\n            return {\r\n                ...state,\r\n                transactions: state.transactions.filter(transaction => transaction.id !==\r\n                    action.payload)\r\n            }\r\n        case 'ADD_TRANSACTION':\r\n            return {\r\n                ...state,\r\n                transactions: [...state.transactions, action.payload]\r\n            }\r\n            case 'TRANSACTION_ERROR':\r\n                return {\r\n                    ...state,\r\n                    error: action.payload\r\n                }\r\n        default:\r\n            return state;\r\n    }\r\n}","import React, { createContext, useReducer } from 'react';\r\nimport AppReducer from './AppReducer';\r\nimport axios from 'axios';\r\n\r\n// initial state\r\nconst initialState = {\r\n    transactions: [],\r\n    error: null,\r\n    loading: true\r\n}\r\n\r\n// Create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// Provider Component\r\nexport const GlobalProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n    // Actions\r\n    async function getTransactions(username) {\r\n        try {\r\n            const res = await axios.get(`/api/Expense/${username}`);\r\n\r\n            dispatch({\r\n                type: 'GET_TRANSACTIONS',\r\n                payload: res.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'TRANSACTION_ERROR',\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n    }\r\n\r\n   async function deleteTransaction(id) {\r\n        try {\r\n            await axios.delete(`api/Expense/${id}`);\r\n\r\n            dispatch({\r\n                type: 'DELETE_TRANSACTION',\r\n                payload: id\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'TRANSACTION_ERROR',\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    async function addTransaction(transaction) {\r\n        const config = {\r\n            Headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }\r\n        try {\r\n            const res = await axios.post('/api/Expense', transaction, config)\r\n            dispatch({\r\n                type: 'ADD_TRANSACTION',\r\n                payload: res.data\r\n            });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: 'TRANSACTION_ERROR',\r\n                payload: err.response.data.error\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n    return (<GlobalContext.Provider value={{\r\n        transactions: state.transactions,\r\n        error: state.error,\r\n        loading: state.loading,\r\n        getTransactions,\r\n        deleteTransaction,\r\n        addTransaction\r\n    }}>\r\n        {children}\r\n    </GlobalContext.Provider>);\r\n}","import React, { useContext } from 'react';\r\nimport { GlobalContext } from '../context/GlobalState';\r\n\r\nexport const Balance = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n\r\n    const total = amounts.reduce((acc, item) => (acc += item), 0).toFixed(2);\r\n\r\n    return (\r\n        <>\r\n          <h4>Twoje Saldo:</h4>\r\n          <h1>{total} PLN</h1>  \r\n        </>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\nexport const IncomeExpenses = () => {\r\n    const { transactions } = useContext(GlobalContext);\r\n    const amounts = transactions.map(transaction => transaction.amount);\r\n\r\n    const income = amounts\r\n        .filter(item => item > 0)\r\n        .reduce((acc, item) => (acc += item), 0)\r\n        .toFixed(2);\r\n\r\n    const expense = (\r\n        amounts.filter(item => item < 0).reduce((acc, item) => (acc += item), 0) *\r\n        -1\r\n    ).toFixed(2);\r\n\r\n    return (\r\n        <div className=\"inc-exp-container\">\r\n        <div>\r\n          <h4>Przychody</h4>\r\n          <p id=\"money-plus\" className=\"money plus\">{income} PLN</p>\r\n        </div>\r\n        <div>\r\n          <h4>Wydatki</h4>\r\n          <p id=\"money-minus\" className=\"money minus\">{expense} PLN</p>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import React, {useContext} from 'react'\r\nimport {GlobalContext} from '../context/GlobalState'\r\n\r\nexport const Transaction = ({transaction}) => {\r\nconst { deleteTransaction } = useContext(GlobalContext);\r\n\r\n        const sign = transaction.amount < 0 ? '-' : '+'; \r\n\r\n        \r\n        return (\r\n            <li className={transaction.amount < 0 ? 'minus' : 'plus'}>\r\n                {transaction.text} <span>{sign}{Math.abs(transaction.amount)} PLN</span><button onClick={() => deleteTransaction(transaction.id)}\r\n                className=\"delete-btn\">x</button>\r\n            </li>\r\n         )\r\n}\r\n","import React, { useContext, useEffect } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState';\r\nimport { Transaction } from './Transaction';\r\n\r\nexport const TransactionList = () => {\r\n    const { transactions, getTransactions } = useContext(GlobalContext);\r\n\r\n    const user = JSON.parse(localStorage.getItem('token'));\r\n    \r\n\r\n    useEffect(() => {\r\n        getTransactions(user.username);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n         <h3>Historia</h3>\r\n         <ul className=\"list\">\r\n             {transactions.map(transaction => (<Transaction key={transaction.id} transaction={transaction} /> ))}\r\n            \r\n         </ul>  \r\n        </>\r\n    )\r\n}\r\n","import React, {useState, useContext} from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\n\r\nexport const TransactionForm = () => {\r\n    const [text, setText] = useState('');\r\n    const [amount, setAmount] = useState(0);\r\n\r\n    const { addTransaction } = useContext(GlobalContext);\r\n\r\n    const user = JSON.parse(localStorage.getItem('token'));\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n\r\n        const newTransaction = {\r\n            userId: +user.id,\r\n            text,\r\n            amount: +amount\r\n        }\r\n\r\n        addTransaction(newTransaction);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h3>Dodaj nową transakcję</h3>\r\n                <form onSubmit={onSubmit}>\r\n                    <div className=\"form-control\">\r\n                    <label className=\"transactionLabel\" htmlFor=\"text\">Nazwa</label>\r\n                    <input type=\"text\" value={text} onChange={(e) => setText(e.target.value)} placeholder=\"Wprowadź nazwę\" />\r\n                    </div>\r\n                    <div className=\"form-control\">\r\n                    <label className=\"transactionLabel\" htmlFor=\"amount\"\r\n                        >Kwota <br />\r\n                        (Jeśli chcesz dodać wydatek, przed kwotą wprowadź minusa \" - \")</label\r\n                    >\r\n                    <input type=\"number\" value={amount} onChange={(e) => setAmount(e.target.value)} placeholder=\"Wprowadź kwotę\" />\r\n                    </div>\r\n                    <button className=\"btn\">Dodaj transakcję</button>\r\n                </form>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\n\r\n\r\nexport default function Login({ setToken }) {\r\n    const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [error, setError] = useState();\r\n  const history = useHistory();\r\n\r\n  async function loginUser(credentials) {\r\n    return fetch('/api/Account/login', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n    .then(data => {\r\n      console.log(data);\r\n      if (data.status !== 200) { setError(\"nieprawidłowe dane logowania\");}\r\n      else {return data.json()}\r\n    })\r\n }\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    const token = await loginUser({\r\n      username,\r\n      password\r\n    });\r\n      setToken(token);\r\n      history.push(\"/\")\r\n  }\r\n\r\n  return(\r\n      <div>\r\n        <h1>Zaloguj się</h1>\r\n        <form onSubmit={handleSubmit} >\r\n            <div className=\"form-control\">    \r\n                <label htmlFor=\"login\">\r\n                    <p>Nazwa użytkownika</p>\r\n                </label>\r\n                <input type=\"text\"  onChange={e => setUserName(e.target.value)}/>\r\n            </div>\r\n            <div className=\"form-control\">\r\n                <label htmlFor=\"password\">\r\n                    <p>Hasło</p>\r\n                </label>\r\n                <input type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n            </div>\r\n            <div>\r\n                <button className=\"btn\" type=\"submit\">Zaloguj się</button>\r\n            </div>\r\n        </form>\r\n        <h5>Nie masz konta? <Link to=\"/register\">Zarejestuj się</Link> </h5>\r\n        {error && <p className=\"errorp\">{error}</p>}\r\n    </div>\r\n  )\r\n}\r\n\r\nLogin.propTypes = {\r\n    setToken: PropTypes.func.isRequired\r\n}","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Register = ({setToken}) => {\r\n    const [username, setUserName] = useState();\r\n  const [password, setPassword] = useState();\r\n  const [confirmPassword, setConfirmPassword] = useState();\r\n  const [error, setError] = useState();\r\n  const history = useHistory();\r\n\r\n  async function registerUser(credentials) {\r\n  return fetch('/api/Account/register', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(credentials)\r\n  })\r\n    .then(data => {\r\n      if (data.status !== 200) { setError(\"Coś poszło nie tak\");}\r\n      if(data.status === 400) {setError(\"Nazwa uzytkownika jest zajęta\")}\r\n      else {return data.json()}\r\n    })\r\n }\r\n\r\n  const handleSubmit = async e => {\r\n    var FormOk = true;\r\n\r\n    e.preventDefault();\r\n    if (username.length < 4 || username.length > 20) {\r\n        setError(\"Nazwa powinna mieć od 4 do 20 znaków\")\r\n        FormOk = false;\r\n    }\r\n    if (password.length < 4 || password.length > 20) {\r\n        setError(\"Hasło powinno mieć od 4 do 20 znaków\")\r\n        FormOk = false;\r\n    }\r\n    if (password !== confirmPassword) {\r\n        setError(\"Hasła muszą być takie same\")\r\n        FormOk = false;\r\n    }\r\n    if(FormOk === true)\r\n    {\r\n        const token = await registerUser({\r\n            username,\r\n            password\r\n          });\r\n            setToken(token);\r\n    }\r\n  }\r\n\r\n    return (\r\n        <>\r\n        <div>\r\n        <h1>Zarejestruj się</h1>\r\n        <form onSubmit={handleSubmit} >\r\n            <div className=\"form-control\">    \r\n                <label htmlFor=\"login\">\r\n                    <p>Nazwa użytkownika</p>\r\n                </label>\r\n                <input type=\"text\" required onChange={e => setUserName(e.target.value)}/>\r\n            </div>\r\n            <div className=\"form-control\">\r\n                <label htmlFor=\"password\">\r\n                    <p>Hasło</p>\r\n                </label>\r\n                <input type=\"password\" required onChange={e => setPassword(e.target.value)} />\r\n            </div>\r\n            <div className=\"form-control\">\r\n                <label htmlFor=\"password\">\r\n                    <p>Potwierdź hasło</p>\r\n                </label>\r\n                <input type=\"password\" required onChange={e => setConfirmPassword(e.target.value)} />\r\n            </div>\r\n            <div>\r\n                <button className=\"btn\" type=\"submit\">Zarejestruj się</button>\r\n            </div>\r\n        </form>\r\n        \r\n        <h5>Masz już konto? <Link to=\"/\">Zaloguj się</Link> </h5>\r\n    </div>\r\n    {error && <p className=\"errorp\">{error}</p>}\r\n    </>\r\n    )\r\n}\r\n","import './App.css';\r\nimport React, { useState } from 'react';\r\nimport { Header } from './components/Header';\r\nimport { Balance } from './components/Balance';\r\nimport { IncomeExpenses } from'./components/IncomeExpenses';\r\nimport { TransactionList } from './components/TransactionList';\r\nimport { TransactionForm } from './components/TransactionForm';\r\nimport { BrowserRouter as Router, Route} from 'react-router-dom'\r\nimport  Login  from './components/Login';\r\nimport  {Register}  from './components/Register';\r\nimport useToken from './components/UseToken';\r\n\r\nimport { GlobalProvider } from './context/GlobalState';\r\n\r\n\r\n\r\nfunction App() {\r\n  const { token, setToken } = useToken();\r\n  const user = JSON.parse(localStorage.getItem('token'));\r\n\r\n  if(!token) {\r\n    return <>\r\n    \r\n    <Router>\r\n      <h1>Expense Tracker </h1>\r\n      <br/><br/>\r\n      <Route path=\"/register\">\r\n        <Register  setToken={setToken} />\r\n      </Route >\r\n      <Route path=\"/\" exact render={(props) => (\r\n        <Login  setToken={setToken} />\r\n      )}/>\r\n    </Router>\r\n    </>\r\n\r\n  }\r\n \r\n  return (\r\n    <GlobalProvider>\r\n      \r\n      <Header username={user.username}/>\r\n      <div className=\"container\">\r\n        <Balance />\r\n        <IncomeExpenses />\r\n        <TransactionList />\r\n        <TransactionForm />\r\n      </div>\r\n    </GlobalProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useState } from 'react';\r\n\r\nexport default function useToken() {\r\n    const getToken = () => {\r\n        const tokenString = localStorage.getItem('token');\r\n        const userToken = JSON.parse(tokenString);\r\n        return userToken?.token\r\n      };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n\r\n  const saveToken = userToken => {\r\n    if(userToken !== undefined)\r\n    {\r\n      localStorage.setItem('token', JSON.stringify(userToken));\r\n      setToken(userToken.token);\r\n    }\r\n\r\n    \r\n  };\r\n  return {\r\n    setToken: saveToken,\r\n    token\r\n  }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}